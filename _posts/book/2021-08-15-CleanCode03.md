---
layout: post
title: "클린코드 3장 - 함수"
categories:
  - book
---

## 함수

### 작게 만들어라
함수를 만드는 규칙은 '작게' 다. if / else /while 문에 들어가는 블록은 한 줄이어야 한다. 중첩 구조가 생길 만큼 함수가 커지면 안된다.

### 한 가지만 해라
함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.

### 함수 당 추상화 수준은 하나로
함수가 한 가지 작업만 하려면 함수내 모든 문장의 추상화 수준이 동일해야 한다.
- 내려가기 규칙 : 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 번에 한 단계씩 낮아진다.

### Switch 문
Switch 문을 추상 팩토리에 숨겨 아무에게 보여주지 않는다. 팩토리는 switch문을 적절한 다형성 객체를 생성하도록 한다.

### 서술적인 이름을 사용하라
좋은 이름이 주는 가치는 아무리 강조해도 지나치지 않다.

### 함수 인수
- 많이 쓰는 단항 형식 
1. 인수에 질문을 던지는 경우
```java
boolean fileExists(String fileName){}
```
2. 인수를 뭔가로 변환해 결과를 반환하는 경우
```java
InputStream fileOpen(String fileName){}
```
3. 이벤트 형식의 함수. 입력 인수만 있고 출력 인수는 없다.
해당 경우 이벤트라는 사실이 코드에 명확하게 드러나야 한다.
```java
void passwordAttemptFailedNtimes(int attempts){};
```

- 플래그 인수 : 함수로 부울 값을 넘기는 행위는 지양
- 이항 함수 : 불가피한 경우도 있으나, 인자의 순서 혹은 코드가 무시되는 경우 위험이 따를 수 있다.
- 삼항 함수
- 인수 객체 : 인수가 2-3개 필요하다면 독자적인 클래스 변수로 선언할 수 있다.
- 인수 목록 : 인수 개수가 가변적인 경우가 있다. 
- 동사와 키워드
  - 단항 함수는 함수와 인수가 동사/명사 쌍을 이뤄야 한다.
  - 함수 이름에 키워드를 추가할 수 있다.

### 부수 효과를 일으키지 마라
- 함수에 한 가지를 하겠다고 하고선 남몰래 다른 기능을 수행하는 로직을 추가하지 말자.

### 명령과 조회를 분리하라
- 함수는 뭔가를 수행하거나 답하거나 둘 중 하나만 해야 한다.

### 오류 코드보다 예외를 사용하라
- try / catch 블록 뽑아내기 : 코드 구조에 혼란을 줄 수 있으므로 try / catch 블록은 별도 함수로 뽑아내는게 좋다.
- 오류 처리도 한 가지 작업이다

### 반복하지 마라
중복은 코드의 길이가 늘어날 뿐 만 아니라 알고리즘이 변화면 다른 곳에서 손봐야 하며 오류 발생도 높아진다.

### 구조적 프로그래밍
함수를 작게 만든다면 return, break, continue를 여러차례 사용해도 괜찮다. 때로는 단일 입출구 규칙보다 의도를 표현하기 쉬워진다.

---
내가 작성하는 함수가 분명하고 정확한 언어로 깔끔하게 맞아떨어져야 이야기를 풀어나가기 쉬워진다는 것을 기억하자.
